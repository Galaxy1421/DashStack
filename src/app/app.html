<div class="app-layout" [class.sidebar-open]="sidebarOpen()" [class.sidebar-collapsed]="sidebarCollapsed()">

  <!-- ================== Sidebar ================== -->
  <aside class="sidebar">
    <!-- Logo -->
    <div class="logo">
      <span class="logo-dash">Dash</span><span class="logo-stack">Stack</span>
    </div>

    <!-- Main Navigation Menu -->
    <ul class="menu">
      <!-- Core pages -->
      <li routerLink="/dashboard" routerLinkActive="active" class="menu-item" title="Dashboard">
        <i class="pi pi-chart-bar"></i>
        <span class="label">Dashboard</span>
      </li>
      <li routerLink="/products" routerLinkActive="active" class="menu-item" title="Products">
        <i class="pi pi-box"></i>
        <span class="label">Products</span>
      </li>
      <li routerLink="/favorites" routerLinkActive="active" class="menu-item" title="Favorites">
        <i class="pi pi-heart"></i>
        <span class="label">Favorites</span>
      </li>
      <li routerLink="/inbox" routerLinkActive="active" class="menu-item" title="Inbox">
        <i class="pi pi-envelope"></i>
        <span class="label">Inbox</span>
      </li>
      <li routerLink="/orders" routerLinkActive="active" class="menu-item" title="Orders">
        <i class="pi pi-list"></i>
        <span class="label">Order Lists</span>
      </li>
      <li routerLink="/stock" routerLinkActive="active" class="menu-item" title="Stock">
        <i class="pi pi-file"></i>
        <span class="label">Product Stock</span>
      </li>

      <!-- Divider + Secondary Pages -->
      <div class="divider"></div>
      <span class="menu-title">Pages</span>

      <li routerLink="/pricing" routerLinkActive="active" class="menu-item" title="Pricing">
        <i class="pi pi-tags"></i>
        <span class="label">Pricing</span>
      </li>
      <li routerLink="/calendar" routerLinkActive="active" class="menu-item" title="Calendar">
        <i class="pi pi-calendar"></i>
        <span class="label">Calendar</span>
      </li>
      <li routerLink="/todo" routerLinkActive="active" class="menu-item" title="To-Do">
        <i class="pi pi-check-square"></i>
        <span class="label">To-Do</span>
      </li>
      <li routerLink="/contact" routerLinkActive="active" class="menu-item" title="Contact">
        <i class="pi pi-user"></i>
        <span class="label">Contact</span>
      </li>
      <li routerLink="/invoice" routerLinkActive="active" class="menu-item" title="Invoice">
        <i class="pi pi-file"></i>
        <span class="label">Invoice</span>
      </li>
      <li routerLink="/uielements" routerLinkActive="active" class="menu-item" title="UI Elements">
        <i class="pi pi-chart-bar"></i>
        <span class="label">UI Elements</span>
      </li>
      <li routerLink="/team" routerLinkActive="active" class="menu-item" title="Team">
        <i class="pi pi-users"></i>
        <span class="label">Team</span>
      </li>
      <li routerLink="/table" routerLinkActive="active" class="menu-item" title="Table">
        <i class="pi pi-table"></i>
        <span class="label">Table</span>
      </li>
    </ul>

    <!-- Bottom Sidebar Menu -->
    <div class="divider"></div>
    <div class="bottom-menu">
      <li class="menu-item" title="Settings">
        <i class="pi pi-cog"></i>
        <span class="label">Settings</span>
      </li>
      <li class="menu-item logout" title="Logout">
        <i class="pi pi-sign-out"></i>
        <span class="label">Logout</span>
      </li>
    </div>
  </aside>

  <!-- ================== Topbar ================== -->
  <header class="topbar">
    <div class="left-section">
      <!-- Sidebar toggle button -->
      <i class="pi pi-bars hamburger" (click)="toggleSidebar()"></i>
    </div>

    <!-- Search Bar -->
    <div class="search">
      <i class="pi pi-search"></i>
      <input type="text" placeholder="Search this page..."
             [ngModel]="searchQuery()"
             (ngModelChange)="searchQuery.set($event); updateSuggestions()"
             (keyup.enter)="onSearch()" />

      <!-- Suggestions Dropdown -->
      <ul class="suggestions" *ngIf="suggestions().length > 0">
        <li *ngFor="let s of suggestions()" (click)="onSearch(s)">
          <span [innerHTML]="highlight(s.text)"></span>
        </li>
      </ul>
    </div>
    <!-- Right Section (Language, Notifications, Profile) -->
    <div class="right-section">
      <!-- Language Selector -->
      <div class="language">
        <img src="https://flagcdn.com/w20/gb.png" alt="English" />
        <span> English </span>
        <i class="pi pi-chevron-down"></i>
      </div>

      <!-- Notifications -->
      <div class="notifications">
        <i class="pi pi-bell"></i>
        <span class="badge">6</span>
      </div>

      <!-- Profile Dropdown -->
      <div class="profile">
        <img src="https://i.pravatar.cc/40" alt="User" />
        <div class="info">
          <span class="name">Jone Aly</span>
          <span class="role">Admin</span>
        </div>
        <i class="pi pi-chevron-down"></i>
      </div>
    </div>
  </header>

  <!-- ================== Main Content ================== -->
  <main class="content" id="mainContent">
    <router-outlet></router-outlet>
  </main>
</div>
