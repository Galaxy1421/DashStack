<!-- Page title -->
<h2 class="page-title">Add Team Member</h2>

<div class="form-container">
  <!-- Preview uploaded photo (if available) -->
  <div class="preview" *ngIf="uploadedPhotoUrl; else placeholder">
    <img [src]="uploadedPhotoUrl" alt="Preview" />
  </div>

  <!-- Placeholder icon when no photo uploaded -->
  <ng-template #placeholder>
    <div class="preview placeholder"><span class="pi pi-user"></span></div>
  </ng-template>

  <!-- Reactive form for adding a team member -->
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-grid">
      <!-- First name field -->
      <div class="form-field">
        <label>First Name</label>
        <input pInputText formControlName="firstName" />
      </div>

      <!-- Last name field -->
      <div class="form-field">
        <label>Last Name</label>
        <input pInputText formControlName="lastName" />
      </div>

      <!-- Email field -->
      <div class="form-field">
        <label>Email</label>
        <input pInputText type="email" formControlName="email" />
      </div>

      <!-- Phone field -->
      <div class="form-field">
        <label>Phone</label>
        <input pInputText formControlName="phone" />
      </div>

      <!-- Position/Role field -->
      <div class="form-field">
        <label>Position</label>
        <input pInputText formControlName="role" />
      </div>

      <!-- Gender dropdown -->
      <div class="form-field">
        <label>Gender</label>
        <p-select formControlName="gender" [options]="genders" optionLabel="label"></p-select>
      </div>

      <!-- Photo upload field -->
      <div class="form-field full-width">
        <label>Upload Photo</label>
        <p-fileUpload 
          name="photo" 
          mode="basic" 
          chooseLabel="Upload" 
          customUpload="true"
          (onSelect)="onPhotoSelect($event)" 
          (uploadHandler)="onPhotoUpload($event)">
        </p-fileUpload>
      </div>
    </div>

    <!-- Form action buttons -->
    <div class="actions">
      <!-- Submit button -->
      <button 
        pButton 
        type="submit" 
        label="Add Member" 
        icon="pi pi-check" 
        class="p-button-info">
      </button>

      <!-- Cancel button -->
      <button 
        pButton 
        type="button" 
        label="Cancel" 
        icon="pi pi-times" 
        class="p-button-secondary" 
        (click)="cancel()">
      </button>
    </div>
  </form>
</div>

<!-- Toast for showing success/warning messages -->
<p-toast></p-toast>
