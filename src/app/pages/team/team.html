<div class="team-container">
  <div class="header">
    <!-- Page Title: shows total number of team members dynamically -->
    <h2 class="page-title">
      Team Members ({{ (teamService.team$ | async)?.length }})
    </h2>

    <!-- Add button: navigates to add-member page -->
    <button 
      pButton 
      label="Add Now" 
      icon="pi pi-user-plus" 
      class="p-button-info" 
      routerLink="/addMember">
    </button>
  </div>

  <!-- Grid layout for member cards -->
  <div class="team-grid">
    <!-- Render each member from team$ observable -->
    <div class="team-card" *ngFor="let member of teamService.team$ | async">

      <!-- Edit/Delete action buttons on top-right of each card -->
      <div class="card-top-actions">
        <button 
          pButton 
          icon="pi pi-pencil"
          class="p-button-rounded p-button-sm edit-btn"
          [routerLink]="['/editMember', member.id]">
        </button>

        <button 
          pButton 
          icon="pi pi-trash"
          class="p-button-rounded p-button-sm delete-btn"
          (click)="deleteMember(member.id)">
        </button>
      </div>

      <!-- Member avatar (default if missing) -->
      <img [src]="member.photoUrl || '/assets/default-user.png'" alt="avatar" />

      <!-- Member details -->
      <h3>{{ member.firstName }} {{ member.lastName }}</h3>
      <p>{{ member.role }}</p>
      <a href="mailto:{{ member.email }}" class="email">{{ member.email }}</a>
      <p class="phone">{{ member.phone }}</p>
    </div>
  </div>
</div>

<!-- Toast notifications for success/error messages -->
<p-toast></p-toast>
